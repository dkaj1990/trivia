<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Trivia Time</title>
    <link rel="shortcut icon" type="image/png" href="assets/images/favicon.png"/>
    
    <!--Added Bootstrap cdn -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">
    <!--Added jQuery cdn-->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="crossorigin="anonymous"></script>
</head>
<body>
    <div class ="container">

        
        <div id="start">
            <button id="start-btn" type="button" class="btn btn-primary btn-lg">Start Quiz</button>
            
        </div>
        <div id="quiz" style="background-color: honeydew;" class="hide">
            <div class="row" > 
                <div class=" col-6 score" style="text-align: center;">
                    Score 
                </div>
                <div class="col-6 timer">
                    Timer
                </div>
            </div>
            
            <div id="question" >
                <!--Row 1 - 1 Column-->
                <div class="row">
                    <div class="col-12 question" >
                        Question goes here
                    </div>
                </div>
                <!--Row 2 - 2 Columns-->
                <div class="row">
                    <div class="col-6">
                        <button type="button" id="opt-a"class="btn btn-primary btn-lg btn-block opt" value="a">Option A</button>
                    </div>
                    <div class="col-6">
                        <button type="button" id="opt-b" class="btn btn-primary btn-lg btn-block opt" value="b">Option B</button>
                    </div>
                </div>
                <div>
                    1
                </div>
                <!--Row 3 - 2 Columns-->
                <div class="row">
                        <div class="col-6">
                            <button type="button" id="opt-c" class="btn btn-primary btn-lg btn-block opt" value="c">Option C</button>
                        </div>
                        <div class="col-6">
                            <button type="button" id="opt-d" class="btn btn-primary btn-lg btn-block opt" value="d">Option D</button>
                        </div>
                </div>
                

            </div>
        </div>
        <div id="score" class="hide">
            
        </div>
    </div>
    <!--Added custom javascript-->
    <script>
        let questIndex = 0;
        let answer="";
        let score = 0;
        let isCorrect = false;
        let questions = [
            {
                q: "What's Cookie monster's favorite food?",
                a: "Ice-cream",
                b: "Cookies",
                c: "Chocolates",
                d: "Marshmellows",
                ans: "b"
            },
            {
                q: "What's Elmo's pet's name?",
                a: "Dorothy",
                b: "Nemo",
                c: "Pluto",
                d: "Oreo",
                ans: "a"
            }
        ];
        const startButton = document.getElementById('start-btn');
        startButton.addEventListener('click', startQuiz);
        
            renderQuestion();
            console.log(questIndex);  
            acceptAnswer();
      
        
        
        function startQuiz(){
            console.log("Quiz started");
            $('#start-btn').attr('style', 'display:none');
            $('#quiz').attr('style', 'display:flex');
        }

        function renderQuestion(){
            if(questIndex <= questions.length){
                //Display question
                $(".question").text(questions[questIndex].q);

                //Display options
                $("#opt-a").text(questions[questIndex].a);
                $("#opt-b").text(questions[questIndex].b);
                $("#opt-c").text(questions[questIndex].c);
                $("#opt-d").text(questions[questIndex].d);
            }else{
                displayScore();
            }
        }
        //this function extracts option that was clicked as an answer
        function acceptAnswer(){
            $(document).ready(function(){
                $(".opt").click(function(){
                    answer = $(this).val();
                    console.log(answer);
                    checkAnswer();
                });
            });

        }

        function checkAnswer(){
            console.log(questions[questIndex].ans);
            console.log(answer);
            if(questions[questIndex].ans === answer){
                console.log(`Answer is correct`);
                isCorrect = true;
                
            }
            else{
                isCorrect = false;
            }
            questIndex++;
            displayResult();
        }
        function displayResult(){
            if (isCorrect){
                $('body').attr('style', 'background-color:green');
            }else{
                $('body').attr('style', 'background-color: darkred');
            }
        }
        function displayScore(){

        }
    </script>
    <!--Added Bootstrap js-->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>